'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj; };

var _color = require('./color');

var _match = require('./match');

var _match2 = _interopRequireDefault(_match);

var _units = require('./units');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var middleware = [{ name: 'color', i: _color.colorIn, o: _color.colorOut }, { name: 'units', i: _units.unitsIn, o: _units.unitsOut }];

exports.default = function (shape1, shape2, time, duration, easing) {
  var tween = function tween(from, to) {
    if (from === to) {
      return from;
    }

    if (typeof from === 'number' && typeof to === 'number') {
      return easing(time, from, to, duration);
    }

    var f = from;
    var t = to;

    middleware.map(function (_ref) {
      var i = _ref.i;

      if (typeof f === 'string' && typeof t === 'string') {
        f = i(f);
        t = i(t);
      }
    });

    if ((typeof f === 'undefined' ? 'undefined' : _typeof(f)) === 'object' && (typeof t === 'undefined' ? 'undefined' : _typeof(t)) === 'object') {
      for (var i in middleware) {
        var _middleware$i = middleware[i];
        var name = _middleware$i.name;
        var o = _middleware$i.o;


        if (name === f.middleware && name === t.middleware) {
          return o((0, _match2.default)(f, t, tween));
        }
      }
    }

    return from;
  };

  return (0, _match2.default)(shape1, shape2, tween);
};