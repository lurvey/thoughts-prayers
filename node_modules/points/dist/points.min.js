!function(r,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Points=e():r.Points=e()}(this,function(){return function(r){function e(n){if(t[n])return t[n].exports;var u=t[n]={exports:{},id:n,loaded:!1};return r[n].call(u.exports,u,u.exports,e),u.loaded=!0,u.exports}var t={};return e.m=r,e.c=t,e.p="",e(0)}([function(r,e,t){"use strict";function n(r){return r&&r.__esModule?r:{"default":r}}Object.defineProperty(e,"__esModule",{value:!0}),e.scale=e.rotate=e.reverse=e.remove=e.position=e.offset=e.moveIndex=e.length=e.cubify=e.boundingBox=e.add=void 0;var u=t(6),a=n(u),o=t(3),c=n(o),i=t(2),f=n(i),y=t(5),v=n(y),l=t(8),s=n(l),x=t(9),d=n(x),p=t(10),h=n(p),b=t(11),m=n(b),g=t(12),M=n(g),_=t(13),A=n(_),w=t(14),I=n(w);e.add=a["default"],e.boundingBox=c["default"],e.cubify=f["default"],e.length=v["default"],e.moveIndex=s["default"],e.offset=d["default"],e.position=h["default"],e.remove=m["default"],e.reverse=M["default"],e.rotate=A["default"],e.scale=I["default"]},function(r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(r,e,t){var n=Math.acos((Math.pow(r,2)+Math.pow(e,2)-Math.pow(t,2))/(2*r*e));return n*(180/Math.PI)},n=function(r,e){for(var t=arguments.length,n=Array(t>2?t-2:0),u=2;u<t;u++)n[u-2]=arguments[u];return a(e)?e.map(function(e){return r.apply(void 0,[e].concat(n))}):r.apply(void 0,[e].concat(n))},u=function(r){return a(r)?r:[r]},a=function(r){return Array.isArray(r[0])},o=function(r,e,t){var n=r===e?0:Math.abs(e-r);return 0===n?r:r<e?r+n*t:r-n*t};e.angleFromSides=t,e.applyFuncToShapes=n,e.getShapeArray=u,e.isShapeArray=a,e.numberAtInterval=o},function(r,e,t){"use strict";function n(r){return r&&r.__esModule?r:{"default":r}}Object.defineProperty(e,"__esModule",{value:!0});var u=t(7),a=n(u),o=t(1),c=function(r){for(var e=[],t=0,n=r.length;t<n;t++){var u=r[t];if(u.curve&&"cubic"!==u.curve.type){var o=r[t-1],c=o.x,i=o.y,f=u.x,y=u.y;if("arc"===u.curve.type){var v=(0,a["default"])({px:c,py:i,cx:f,cy:y,rx:u.curve.rx,ry:u.curve.ry,xAxisRotation:u.curve.xAxisRotation,largeArcFlag:u.curve.largeArcFlag,sweepFlag:u.curve.sweepFlag});v.forEach(function(r){var t=r.x1,n=r.y1,u=r.x2,a=r.y2,o=r.x,c=r.y;e.push({x:o,y:c,curve:{type:"cubic",x1:t,y1:n,x2:u,y2:a}})})}else if("quadratic"===u.curve.type){var l=c+2/3*(u.curve.x1-c),s=i+2/3*(u.curve.y1-i),x=f+2/3*(u.curve.x1-f),d=y+2/3*(u.curve.y1-y);e.push({x:f,y:y,curve:{type:"cubic",x1:l,y1:s,x2:x,y2:d}})}}else e.push(u)}return e},i=function(r){return(0,o.applyFuncToShapes)(c,r)};e["default"]=i},function(r,e,t){"use strict";function n(r){return r&&r.__esModule?r:{"default":r}}Object.defineProperty(e,"__esModule",{value:!0});var u=t(4),a=n(u),o=t(1),c=function(r){var e=void 0,t=void 0,n=void 0,u=void 0,c=(0,o.getShapeArray)(r);return c.map(function(r){return(0,a["default"])(r).map(function(r){var a=r.x,o=r.y;("number"!=typeof e||o>e)&&(e=o),("number"!=typeof t||a<t)&&(t=a),("number"!=typeof n||a>n)&&(n=a),("number"!=typeof u||o<u)&&(u=o)})}),{bottom:e,center:{x:t+(n-t)/2,y:u+(e-u)/2},left:t,right:n,top:u}};e["default"]=c},function(r,e,t){"use strict";function n(r){return r&&r.__esModule?r:{"default":r}}function u(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}return Array.from(r)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function r(r,e){var t=[],n=!0,u=!1,a=void 0;try{for(var o,c=r[Symbol.iterator]();!(n=(o=c.next()).done)&&(t.push(o.value),!e||t.length!==e);n=!0);}catch(i){u=!0,a=i}finally{try{!n&&c["return"]&&c["return"]()}finally{if(u)throw a}}return t}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return r(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=t(1),c=t(2),i=n(c),f=t(6),y=t(5),v=function(r){var e=a(r[0],2),t=e[0],n=e[1],u=a(r[1],2),c=u[0],i=u[1],f=a(r[2],2),v=f[0],l=f[1],s=(0,y.linearLength)(t,n,c,i),x=(0,y.linearLength)(c,i,v,l),d=(0,y.linearLength)(v,l,t,n);return(0,o.angleFromSides)(s,x,d)},l=function(r){return r.reduce(function(r,e){var t=e.curve;return!!t||r},!1)},s=function(r){var e=arguments.length<=1||void 0===arguments[1]?1:arguments[1];if(!l(r))return r;var t=(0,i["default"])(r),n=[];return t.map(function(r,u){if(r.curve){var a=t[u-1];d(a,r,e).map(function(r){return n.push(r)})}else n.push(r)}),n},x=function(r,e,t,n,u,a,o,c,i){var f=[[t,n],[u,a],[r,e]],y=[[o,c],[r,e],[u,a]];return v(f)<i&&v(y)<i},d=function p(r,e,t){var n=r.x,o=r.y,c=e.x,i=e.y,y=e.curve,v=y.x1,l=y.y1,s=y.x2,d=y.y2;if(x(n,o,v,l,c,i,s,d,t))return[e];var h=(0,f.curvePoints)(r,e),b=a(h,2),m=b[0],g=b[1];return[].concat(u(p(r,m,t)),u(p(m,g,t)))};e["default"]=s},function(r,e,t){"use strict";function n(r){return r&&r.__esModule?r:{"default":r}}Object.defineProperty(e,"__esModule",{value:!0}),e.linearLength=void 0;var u=t(4),a=n(u),o=function(r,e){var t=(0,a["default"])(r,e);return t.reduce(function(r,e,n){var u=e.x,a=e.y,o=e.moveTo;if(!o){var i=t[n-1],f=i.x,y=i.y;r+=c(f,y,u,a)}return r},0)},c=function(r,e,t,n){return Math.sqrt(Math.pow(r-t,2)+Math.pow(e-n,2))};e.linearLength=c,e["default"]=o},function(r,e,t){"use strict";function n(r){return r&&r.__esModule?r:{"default":r}}function u(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}return Array.from(r)}Object.defineProperty(e,"__esModule",{value:!0}),e.curvePoints=void 0;var a=function(){function r(r,e){var t=[],n=!0,u=!1,a=void 0;try{for(var o,c=r[Symbol.iterator]();!(n=(o=c.next()).done)&&(t.push(o.value),!e||t.length!==e);n=!0);}catch(i){u=!0,a=i}finally{try{!n&&c["return"]&&c["return"]()}finally{if(u)throw a}}return t}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return r(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=t(2),c=n(o),i=t(1),f=function(r,e){return[{x:(0,i.numberAtInterval)(r.x,e.x,.5),y:(0,i.numberAtInterval)(r.y,e.y,.5)},e]},y=function(r,e){var t=e.curve,n=t.x1,u=t.y1,a=t.x2,o=t.y2,c={x:r.x,y:r.y},f={x:n,y:u},y={x:a,y:o},v={x:e.x,y:e.y},l={x:(0,i.numberAtInterval)(c.x,f.x,.5),y:(0,i.numberAtInterval)(c.y,f.y,.5)},s={x:(0,i.numberAtInterval)(f.x,y.x,.5),y:(0,i.numberAtInterval)(f.y,y.y,.5)},x={x:(0,i.numberAtInterval)(y.x,v.x,.5),y:(0,i.numberAtInterval)(y.y,v.y,.5)},d={x:(0,i.numberAtInterval)(l.x,s.x,.5),y:(0,i.numberAtInterval)(l.y,s.y,.5)},p={x:(0,i.numberAtInterval)(s.x,x.x,.5),y:(0,i.numberAtInterval)(s.y,x.y,.5)},h={x:(0,i.numberAtInterval)(d.x,p.x,.5),y:(0,i.numberAtInterval)(d.y,p.y,.5)};return[{x:h.x,y:h.y,curve:{type:"cubic",x1:l.x,y1:l.y,x2:d.x,y2:d.y}},{x:v.x,y:v.y,curve:{type:"cubic",x1:p.x,y1:p.y,x2:x.x,y2:x.y}}]},v=function(r,e){return e.curve?y(r,e):f(r,e)},l=function x(r,e){for(var t=[].concat(u(r)),n=1;n<t.length;n+=2){if(t.length>=e)return t;var o=v(t[n-1],t[n]),c=a(o,2),i=c[0],f=c[1];t.splice(n,1,i,f)}return x(t,e)},s=function(r,e){return l((0,c["default"])(r),e)};e.curvePoints=y,e["default"]=s},function(r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function r(r,e){var t=[],n=!0,u=!1,a=void 0;try{for(var o,c=r[Symbol.iterator]();!(n=(o=c.next()).done)&&(t.push(o.value),!e||t.length!==e);n=!0);}catch(i){u=!0,a=i}finally{try{!n&&c["return"]&&c["return"]()}finally{if(u)throw a}}return t}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return r(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=2*Math.PI,u=function(r,e,t,n,u,a,o){var c=r.x,i=r.y;c*=e,i*=t;var f=n*c-u*i,y=u*c+n*i;return{x:f+a,y:y+o}},a=function(r,e){var t=4/3*Math.tan(e/4),n=Math.cos(r),u=Math.sin(r),a=Math.cos(r+e),o=Math.sin(r+e);return[{x:n-u*t,y:u+n*t},{x:a+o*t,y:o-a*t},{x:a,y:o}]},o=function(r,e,t,n){var u=r*n-e*t<0?-1:1,a=Math.sqrt(r*r+e*e),o=Math.sqrt(r*r+e*e),c=r*t+e*n,i=c/(a*o);return i>1&&(i=1),i<-1&&(i=-1),u*Math.acos(i)},c=function(r,e,t,u,a,c,i,f,y,v,l,s){var x=Math.pow(a,2),d=Math.pow(c,2),p=Math.pow(l,2),h=Math.pow(s,2),b=x*d-x*h-d*p;b<0&&(b=0),b/=x*h+d*p,b=Math.sqrt(b)*(i===f?-1:1);var m=b*a/c*s,g=b*-c/a*l,M=v*m-y*g+(r+t)/2,_=y*m+v*g+(e+u)/2,A=(l-m)/a,w=(s-g)/c,I=(-l-m)/a,O=(-s-g)/c,j=o(1,0,A,w),P=o(A,w,I,O);return 0===f&&P>0&&(P-=n),1===f&&P<0&&(P+=n),[M,_,j,P]},i=function(r){var e=r.px,o=r.py,i=r.cx,f=r.cy,y=r.rx,v=r.ry,l=r.xAxisRotation,s=void 0===l?0:l,x=r.largeArcFlag,d=void 0===x?0:x,p=r.sweepFlag,h=void 0===p?0:p,b=[];if(0===y||0===v)return[];var m=Math.sin(s*n/360),g=Math.cos(s*n/360),M=g*(e-i)/2+m*(o-f)/2,_=-m*(e-i)/2+g*(o-f)/2;if(0===M&&0===_)return[];y=Math.abs(y),v=Math.abs(v);var A=Math.pow(M,2)/Math.pow(y,2)+Math.pow(_,2)/Math.pow(v,2);A>1&&(y*=Math.sqrt(A),v*=Math.sqrt(A));var w=c(e,o,i,f,y,v,d,h,m,g,M,_),I=t(w,4),O=I[0],j=I[1],P=I[2],S=I[3],F=Math.max(Math.ceil(Math.abs(S)/(n/4)),1);S/=F;for(var L=0;L<F;L++)b.push(a(P,S)),P+=S;return b.map(function(r){var e=u(r[0],y,v,g,m,O,j),t=e.x,n=e.y,a=u(r[1],y,v,g,m,O,j),o=a.x,c=a.y,i=u(r[2],y,v,g,m,O,j),f=i.x,l=i.y;return{x1:t,y1:n,x2:o,y2:c,x:f,y:l}})};e["default"]=i},function(r,e){"use strict";function t(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}return Array.from(r)}Object.defineProperty(e,"__esModule",{value:!0});var n=function(r,e){var n=r.length-1,u=r[0],a=r[n],o=(e%n+n)%n;return u.x===a.x&&u.y===a.y?[{x:r[o].x,y:r[o].y,moveTo:!0}].concat(t(r.splice(o+1)),t(r.splice(1,o))):r};e["default"]=n},function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},u=t(1),a=function(r,e,t){return r.map(function(r){var u=n({},r);return u.x+=e,u.y+=t,u.curve&&(u.curve=n({},u.curve),"quadratic"!==u.curve.type&&"cubic"!==u.curve.type||(u.curve.x1+=e,u.curve.y1+=t),"cubic"===u.curve.type&&(u.curve.x2+=e,u.curve.y2+=t)),u})},o=function(r){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],t=arguments.length<=2||void 0===arguments[2]?0:arguments[2];return(0,u.applyFuncToShapes)(a,r,e,t)};e["default"]=o},function(r,e,t){"use strict";function n(r){return r&&r.__esModule?r:{"default":r}}Object.defineProperty(e,"__esModule",{value:!0});var u=t(4),a=n(u),o=t(5),c=n(o),i=t(1),f=function(r,e,t,n,u){if(r===t)return e>=n?0:180;var a=100,c=(0,o.linearLength)(t,n,r,e-a),f=(0,i.angleFromSides)(u,a,c);return r<t?f:360-f},y=function(r,e,t,n){var u=r[e-2],a=u.x,c=u.y,i=r[e-1],f=i.x,y=i.y,v=(0,o.linearLength)(a,c,f,y),l=(n-t)/v+1;return{x1:a,y1:c,x2:f,y2:y,segmentInterval:l,segmentLength:v}},v=function(r,e,t){var n=(0,a["default"])(r,t),u=n.length,o=(0,c["default"])(n),v=o*e,x=e>1?y(n,u,o,v):e<0?l(n,v):s(n,u,v),d=x.x1,p=x.y1,h=x.x2,b=x.y2,m=x.segmentInterval,g=x.segmentLength;return{angle:f(d,p,h,b,g),x:(0,i.numberAtInterval)(d,h,m),y:(0,i.numberAtInterval)(p,b,m)}},l=function(r,e){var t=r[0],n=t.x,u=t.y,a=r[1],c=a.x,i=a.y,f=(0,o.linearLength)(n,u,c,i),y=e/f;return{x1:n,y1:u,x2:c,y2:i,segmentInterval:y,segmentLength:f}},s=function(r,e,t){for(var n=0,u=0;u<e;u++){var a=r[u].moveTo;if(!a){var c=r[u-1],i=c.x,f=c.y,y=r[u],v=y.x,l=y.y,s=(0,o.linearLength)(i,f,v,l);if(n+s>=t){var x=(t-n)/s;return{x1:i,y1:f,x2:v,y2:l,segmentInterval:x,segmentLength:s}}n+=s}}};e["default"]=v},function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t(1),u=function(r,e,t){if(e.curve||t.curve)return!1;var n=(t.y-r.y)*(e.x-r.x)-(t.x-r.x)*(e.y-r.y);if(Math.abs(n)>Number.EPSILON)return!1;var u=(t.x-r.x)*(e.x-r.x)+(t.y-r.y)*(e.y-r.y);if(u<0)return!1;var a=(e.x-r.x)*(e.x-r.x)+(e.y-r.y)*(e.y-r.y);return!(u>a)},a=function(r){for(var e=[],t=0,n=r.length;t<n;t++){var a=e[e.length-1],o=r[t+1],c=r[t];a&&o&&c&&u(a,o,c)||e.push(c)}return e},o=function(r){return(0,n.applyFuncToShapes)(a,r)};e["default"]=o},function(r,e,t){"use strict";function n(r){return r&&r.__esModule?r:{"default":r}}Object.defineProperty(e,"__esModule",{value:!0});var u=t(2),a=n(u),o=t(1),c=function(r){var e=void 0;return r.reverse().map(function(r){var t=r.x,n=r.y,u=r.curve,a={x:t,y:n};if(e){var o=e,c=o.x1,i=o.y1,f=o.x2,y=o.y2;a.curve={type:"cubic",x1:f,y1:y,x2:c,y2:i}}return e=u?u:null,a})},i=function(r){return(0,o.applyFuncToShapes)(c,(0,a["default"])(r))};e["default"]=i},function(r,e,t){"use strict";function n(r){return r&&r.__esModule?r:{"default":r}}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},a=function(){function r(r,e){var t=[],n=!0,u=!1,a=void 0;try{for(var o,c=r[Symbol.iterator]();!(n=(o=c.next()).done)&&(t.push(o.value),!e||t.length!==e);n=!0);}catch(i){u=!0,a=i}finally{try{!n&&c["return"]&&c["return"]()}finally{if(u)throw a}}return t}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return r(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=t(1),c=t(3),i=n(c),f=function(r,e,t,n,u){var a=u.x,o=u.y,c=r-a,i=e-o;return[c*t-i*n+a,c*n+i*t+o]},y=function(r,e,t){return r.map(function(r){var n=e*Math.PI/180,o=Math.cos(n),c=Math.sin(n),i=f(r.x,r.y,o,c,t),y=a(i,2),v=y[0],l=y[1],s=u({},r,{x:v,y:l});if(s.curve){if("quadratic"===s.curve.type||"cubic"===s.curve.type){var x=f(s.curve.x1,s.curve.y1,o,c,t),d=a(x,2),p=d[0],h=d[1];s.curve=u({},s.curve,{x1:p,y1:h})}if("cubic"===s.curve.type){var b=f(s.curve.x2,s.curve.y2,o,c,t),m=a(b,2),g=m[0],M=m[1];s.curve=u({},s.curve,{x2:g,y2:M})}}return s})},v=function(r,e){var t=(0,i["default"])(r),n=t.center;return(0,o.applyFuncToShapes)(y,r,e,n)};e["default"]=v},function(r,e,t){"use strict";function n(r){return r&&r.__esModule?r:{"default":r}}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},a=t(3),o=n(a),c=t(1),i=function(r,e,t,n){var a=u({},r);return a.x=t-(t-a.x)*e,a.y=n-(n-a.y)*e,r.curve&&(a.curve=u({},a.curve),"arc"===a.curve.type?(a.curve.rx&&(a.curve.rx=a.curve.rx*e),a.curve.ry&&(a.curve.ry=a.curve.ry*e)):(a.curve.x1=t-(t-a.curve.x1)*e,a.curve.y1=n-(n-a.curve.y1)*e,"cubic"===a.curve.type&&(a.curve.x2=t-(t-a.curve.x2)*e,a.curve.y2=n-(n-a.curve.y2)*e))),a},f=function(r,e){var t=arguments.length<=2||void 0===arguments[2]?"center":arguments[2],n=(0,o["default"])(r),u=n.bottom,a=n.center,f=n.left,y=n.right,v=n.top,l=a.x,s=a.y;switch(t){case"topLeft":l=f,s=v;break;case"topRight":l=y,s=v;break;case"bottomRight":l=y,s=u;break;case"bottomLeft":l=f,s=u}return(0,c.applyFuncToShapes)(function(r){return r.map(function(r){return i(r,e,l,s)})},r)};e["default"]=f}])});